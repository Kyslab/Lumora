{% extends "base.html" %}

{% block title %}{{ room.name[lang] }} - Lumora Resort{% endblock %}
{% block header_class %}header-scrolled{% endblock %}
{% block transparent_header %}false{% endblock %}
{% block main_padding %}pt-7 lg:pt-10{% endblock %}

{% block content %}
<section class="py-8 bg-white">
    <div class="container mx-auto px-4">
        <nav class="text-sm text-gray-500 mb-4">
            <a href="/?lang={{ lang }}" class="hover:text-primary">{{ 'Trang chủ' if lang == 'vi' else 'Home' }}</a>
            <span class="mx-2">/</span>
            <a href="/accommodation?lang={{ lang }}" class="hover:text-primary">{{ 'Lưu trú' if lang == 'vi' else 'Accommodation' }}</a>
            <span class="mx-2">/</span>
            <span class="text-dark">{{ room.name[lang] }}</span>
        </nav>
    </div>
</section>

<section class="pb-16 bg-white">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
            <div>
                <div class="rounded-2xl overflow-hidden mb-4">
                    <img id="main-image" src="{{ room.images[0] }}" alt="{{ room.name[lang] }}" class="w-full h-[400px] object-cover">
                </div>
                <div class="grid grid-cols-4 gap-2">
                    {% for img in room.images %}
                    <img src="{{ img }}" alt="" class="w-full h-20 object-cover rounded-lg cursor-pointer hover:opacity-80 transition" onclick="document.getElementById('main-image').src='{{ img }}'">
                    {% endfor %}
                </div>
            </div>

            <div>
                <h1 class="text-3xl md:text-4xl font-display font-bold text-dark mb-4">{{ room.name[lang] }}</h1>
                <div class="flex items-center gap-4 mb-6">
                    <span class="text-3xl font-bold text-primary">{{ '{:,.0f}'.format(room.price) }}đ</span>
                    <span class="text-gray-500">/{{ 'đêm' if lang == 'vi' else 'night' }}</span>
                </div>

                <p class="text-gray-600 text-lg mb-6">{{ room.description[lang] }}</p>

                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="bg-light p-4 rounded-xl">
                        <i class="fas fa-ruler-combined text-primary text-xl mb-2"></i>
                        <p class="text-sm text-gray-500">{{ 'Diện tích' if lang == 'vi' else 'Area' }}</p>
                        <p class="font-semibold">{{ room.area }}m²</p>
                    </div>
                    <div class="bg-light p-4 rounded-xl">
                        <i class="fas fa-users text-primary text-xl mb-2"></i>
                        <p class="text-sm text-gray-500">{{ 'Sức chứa' if lang == 'vi' else 'Capacity' }}</p>
                        <p class="font-semibold">{{ room.capacity }} {{ 'người' if lang == 'vi' else 'guests' }}</p>
                    </div>
                </div>

                <div class="mb-6">
                    <h3 class="font-display font-semibold text-lg mb-3">{{ 'Tiện nghi' if lang == 'vi' else 'Amenities' }}</h3>
                    <div class="flex flex-wrap gap-3">
                        {% if room.amenities %}
                        {% for amenity in room.amenities %}
                        {% if amenity and amenity.strip() %}
                        <span class="bg-light px-4 py-2 rounded-full text-sm flex items-center gap-2">
                            {% if 'wifi' in amenity.lower() %}
                            <i class="fas fa-wifi text-primary"></i>
                            {% elif 'điều hòa' in amenity.lower() or 'ac' in amenity.lower() %}
                            <i class="fas fa-snowflake text-primary"></i>
                            {% elif 'tv' in amenity.lower() %}
                            <i class="fas fa-tv text-primary"></i>
                            {% elif 'minibar' in amenity.lower() %}
                            <i class="fas fa-glass-martini text-primary"></i>
                            {% elif 'phòng tắm' in amenity.lower() or 'bathroom' in amenity.lower() %}
                            <i class="fas fa-bath text-primary"></i>
                            {% elif 'ngoài trời' in amenity.lower() or 'outdoor' in amenity.lower() %}
                            <i class="fas fa-tree text-primary"></i>
                            {% elif 'bbq' in amenity.lower() %}
                            <i class="fas fa-fire text-primary"></i>
                            {% elif 'bếp' in amenity.lower() or 'kitchen' in amenity.lower() %}
                            <i class="fas fa-utensils text-primary"></i>
                            {% elif 'vườn' in amenity.lower() or 'garden' in amenity.lower() or 'sân' in amenity.lower() %}
                            <i class="fas fa-leaf text-primary"></i>
                            {% else %}
                            <i class="fas fa-check text-primary"></i>
                            {% endif %}
                            {{ amenity.strip() }}
                        </span>
                        {% endif %}
                        {% endfor %}
                        {% endif %}
                    </div>
                </div>

                <a href="/contact?lang={{ lang }}#booking" class="block w-full bg-primary text-white text-center py-4 rounded-full text-lg font-semibold hover:bg-opacity-90 transition">
                    {{ 'Đặt Phòng Ngay' if lang == 'vi' else 'Book Now' }}
                </a>
            </div>
        </div>

        <div class="mb-12">
            <h2 class="text-2xl font-display font-bold text-dark mb-6">{{ 'Video Giới Thiệu' if lang == 'vi' else 'Introduction Video' }}</h2>
            <div class="aspect-video rounded-2xl overflow-hidden">
                <iframe 
                    class="w-full h-full"
                    src="{{ room.video }}" 
                    title="{{ room.name[lang] }}"
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>
            </div>
        </div>
    </div>
</section>
{% endblock %}
