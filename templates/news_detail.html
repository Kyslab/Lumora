{% extends "base.html" %}

{% block title %}{{ article.title[lang] }} - Tin Tức Lumora Resort{% endblock %}
{% block header_class %}header-scrolled{% endblock %}
{% block transparent_header %}false{% endblock %}
{% block main_padding %}pt-14 lg:pt-16{% endblock %}

{% block meta_description %}{{ article.excerpt[lang][:160] }}{% endblock %}
{% block meta_keywords %}{{ article.title[lang] }}, tin tức Lumora Resort, {{ article.category[lang] }}{% endblock %}

{% block og_type %}article{% endblock %}
{% block og_title %}{{ article.title[lang] }}{% endblock %}
{% block og_description %}{{ article.excerpt[lang][:200] }}{% endblock %}
{% block og_image %}{{ article.image }}{% endblock %}

{% block twitter_title %}{{ article.title[lang] }}{% endblock %}
{% block twitter_description %}{{ article.excerpt[lang][:200] }}{% endblock %}
{% block twitter_image %}{{ article.image }}{% endblock %}

{% block structured_data %}
{
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "{{ article.title[lang] }}",
    "description": "{{ article.excerpt[lang] }}",
    "image": "{{ article.image }}",
    "datePublished": "{{ article.date }}",
    "author": {
        "@type": "Organization",
        "name": "Lumora Resort"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Lumora Resort",
        "logo": {
            "@type": "ImageObject",
            "url": "{{ url_for('static', filename='images/logo.png', _external=True) }}"
        }
    }
}
{% endblock %}

{% block extra_head %}
<style>
.news-content { line-height: 1.8; }
.news-content p { margin-bottom: 1rem; }
.news-content h1, .news-content h2, .news-content h3, .news-content h4 { font-weight: 700; margin: 1.5rem 0 1rem; color: #1a1a1a; }
.news-content h1 { font-size: 2rem; }
.news-content h2 { font-size: 1.5rem; }
.news-content h3 { font-size: 1.25rem; }
.news-content ul, .news-content ol { margin: 1rem 0; padding-left: 2rem; }
.news-content li { margin-bottom: 0.5rem; }
.news-content ul { list-style: disc; }
.news-content ol { list-style: decimal; }
.news-content img { max-width: 100%; height: auto; border-radius: 0.5rem; margin: 1.5rem 0; }
.news-content a { color: #2D5A27; text-decoration: underline; }
.news-content a:hover { color: #1a3d18; }
.news-content blockquote { border-left: 4px solid #D4AF37; padding-left: 1rem; margin: 1.5rem 0; font-style: italic; color: #666; }
.news-content table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; }
.news-content th, .news-content td { border: 1px solid #ddd; padding: 0.75rem; text-align: left; }
.news-content th { background: #f5f5f0; font-weight: 600; }
.news-content iframe { max-width: 100%; margin: 1.5rem 0; }
</style>
{% endblock %}

{% block content %}
<section class="pb-2 bg-white">
    <div class="container mx-auto px-4">
        <nav class="text-sm text-gray-500">
            <a href="/?lang={{ lang }}" class="hover:text-primary">{{ 'Trang chủ' if lang == 'vi' else 'Home' }}</a>
            <span class="mx-2">/</span>
            <a href="/news?lang={{ lang }}" class="hover:text-primary">{{ 'Tin tức' if lang == 'vi' else 'News' }}</a>
            <span class="mx-2">/</span>
            <span class="text-dark">{{ article.title[lang][:30] }}...</span>
        </nav>
    </div>
</section>

<article class="pb-16 bg-white">
    <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
            <div class="mb-6">
                <span class="bg-accent text-dark px-4 py-1 rounded-full text-sm font-medium">
                    {{ article.category[lang] }}
                </span>
            </div>

            <h1 class="text-3xl md:text-4xl lg:text-5xl font-display font-bold text-dark mb-6">
                {{ article.title[lang] }}
            </h1>

            <div class="flex items-center text-gray-500 mb-8">
                <i class="far fa-calendar mr-2"></i>
                <span>{{ article.date }}</span>
            </div>

            <img src="{{ article.image }}" alt="{{ article.title[lang] }}" class="w-full h-[400px] object-cover rounded-2xl mb-8">

            <div class="prose prose-lg max-w-none text-gray-700">
                <p class="text-xl text-gray-600 mb-6 lead">{{ article.excerpt[lang] }}</p>
                <div class="news-content">
                    {{ article.content[lang]|safe }}
                </div>
            </div>

            <div class="mt-12 pt-8 border-t">
                <h3 class="font-display font-bold text-xl mb-4">{{ 'Chia sẻ bài viết' if lang == 'vi' else 'Share this article' }}</h3>
                <div class="flex gap-4">
                    <a href="#" class="w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-opacity-80 transition">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="w-10 h-10 bg-sky-500 text-white rounded-full flex items-center justify-center hover:bg-opacity-80 transition">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center hover:bg-opacity-80 transition">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</article>
{% endblock %}
