{% extends "base.html" %}

{% block title %}{{ 'Đăng Ký Tham Gia STEAM' if lang == 'vi' else 'Register for STEAM' }} - Lumora Resort{% endblock %}

{% block meta_description %}{{ 'Đăng ký tham gia các chương trình giáo dục STEAM tại Lumora Resort.' if lang == 'vi' else 'Register for STEAM education programs at Lumora Resort.' }}{% endblock %}

{% block content %}
<section class="relative h-[40vh] min-h-[300px] flex items-center justify-center">
    <div class="absolute inset-0">
        <img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=1200" alt="STEAM Registration" class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-black bg-opacity-50"></div>
    </div>
    <div class="relative z-10 text-center text-white px-4">
        <p class="text-accent font-medium mb-2">STEAM EDUCATION</p>
        <h1 class="text-4xl md:text-5xl font-display font-bold mb-4">{{ 'Đăng Ký Tham Gia' if lang == 'vi' else 'Register Now' }}</h1>
        <p class="text-lg max-w-2xl mx-auto">{{ 'Đăng ký cho con bạn tham gia các chương trình STEAM thú vị' if lang == 'vi' else 'Register your child for exciting STEAM programs' }}</p>
    </div>
</section>

<section class="py-16 bg-white">
    <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
            <nav class="flex items-center space-x-2 text-sm text-gray-500 mb-8">
                <a href="/?lang={{ lang }}" class="hover:text-primary">{{ 'Trang Chủ' if lang == 'vi' else 'Home' }}</a>
                <i class="fas fa-chevron-right text-xs"></i>
                <span class="text-primary">{{ 'Giáo Dục STEAM' if lang == 'vi' else 'STEAM Education' }}</span>
                <i class="fas fa-chevron-right text-xs"></i>
                <span class="text-primary">{{ 'Đăng Ký' if lang == 'vi' else 'Register' }}</span>
            </nav>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2">
                    <div class="bg-light rounded-xl p-8 shadow-lg">
                        <h2 class="text-2xl font-display font-bold mb-6">{{ 'Form Đăng Ký STEAM' if lang == 'vi' else 'STEAM Registration Form' }}</h2>
                        
                        <form id="steam-register-form" class="space-y-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">{{ 'Họ tên phụ huynh' if lang == 'vi' else 'Parent Name' }} *</label>
                                    <input type="text" name="parent_name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">{{ 'Số điện thoại' if lang == 'vi' else 'Phone Number' }} *</label>
                                    <input type="tel" name="phone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                                <input type="email" name="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">{{ 'Họ tên học viên' if lang == 'vi' else 'Student Name' }} *</label>
                                    <input type="text" name="student_name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">{{ 'Tuổi học viên' if lang == 'vi' else 'Student Age' }} *</label>
                                    <input type="number" name="student_age" min="5" max="18" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">{{ 'Chương trình quan tâm' if lang == 'vi' else 'Interested Program' }} *</label>
                                <select name="program" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                    <option value="">{{ '-- Chọn chương trình --' if lang == 'vi' else '-- Select Program --' }}</option>
                                    <option value="steam_camp">{{ 'STEAM Camp (3-5 ngày)' if lang == 'vi' else 'STEAM Camp (3-5 days)' }}</option>
                                    <option value="steam_weekend">{{ 'STEAM Weekend (2 ngày)' if lang == 'vi' else 'STEAM Weekend (2 days)' }}</option>
                                    <option value="steam_day">{{ 'STEAM Day Trip (1 ngày)' if lang == 'vi' else 'STEAM Day Trip (1 day)' }}</option>
                                    <option value="robot_workshop">{{ 'Workshop Làm Robot' if lang == 'vi' else 'Robot Workshop' }}</option>
                                    <option value="science_workshop">{{ 'Workshop Thí Nghiệm Khoa Học' if lang == 'vi' else 'Science Workshop' }}</option>
                                    <option value="art_workshop">{{ 'Workshop Nghệ Thuật Tái Chế' if lang == 'vi' else 'Recycled Art Workshop' }}</option>
                                    <option value="gardening_workshop">{{ 'Workshop Làm Vườn' if lang == 'vi' else 'Gardening Workshop' }}</option>
                                    <option value="survival_workshop">{{ 'Workshop Kỹ Năng Sinh Tồn' if lang == 'vi' else 'Survival Skills Workshop' }}</option>
                                    <option value="cooking_workshop">{{ 'Workshop Nấu Ăn' if lang == 'vi' else 'Cooking Workshop' }}</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">{{ 'Ngày dự kiến tham gia' if lang == 'vi' else 'Expected Date' }}</label>
                                <input type="date" name="expected_date" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">{{ 'Số lượng học viên' if lang == 'vi' else 'Number of Students' }}</label>
                                <input type="number" name="num_students" min="1" value="1" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">{{ 'Ghi chú thêm' if lang == 'vi' else 'Additional Notes' }}</label>
                                <textarea name="notes" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="{{ 'Yêu cầu đặc biệt, dị ứng, vấn đề sức khỏe...' if lang == 'vi' else 'Special requests, allergies, health issues...' }}"></textarea>
                            </div>
                            
                            <button type="submit" class="w-full bg-primary text-white py-4 rounded-lg font-semibold hover:bg-opacity-90 transition flex items-center justify-center">
                                <i class="fas fa-paper-plane mr-2"></i>
                                {{ 'Gửi Đăng Ký' if lang == 'vi' else 'Submit Registration' }}
                            </button>
                        </form>
                        
                        <div id="success-message" class="hidden mt-6 p-4 bg-green-100 text-green-700 rounded-lg text-center">
                            <i class="fas fa-check-circle text-2xl mb-2"></i>
                            <p class="font-semibold">{{ 'Đăng ký thành công!' if lang == 'vi' else 'Registration Successful!' }}</p>
                            <p class="text-sm">{{ 'Chúng tôi sẽ liên hệ với bạn trong thời gian sớm nhất.' if lang == 'vi' else 'We will contact you as soon as possible.' }}</p>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-6">
                    <div class="bg-primary text-white rounded-xl p-6">
                        <h3 class="text-xl font-display font-bold mb-4">{{ 'Thông Tin Liên Hệ' if lang == 'vi' else 'Contact Info' }}</h3>
                        <ul class="space-y-4">
                            <li class="flex items-start space-x-3">
                                <i class="fas fa-phone text-accent mt-1"></i>
                                <div>
                                    <p class="font-medium">Hotline</p>
                                    <p class="text-white/80">1900 1234</p>
                                </div>
                            </li>
                            <li class="flex items-start space-x-3">
                                <i class="fas fa-envelope text-accent mt-1"></i>
                                <div>
                                    <p class="font-medium">Email</p>
                                    <p class="text-white/80">steam@lumoraresort.com</p>
                                </div>
                            </li>
                            <li class="flex items-start space-x-3">
                                <i class="fas fa-clock text-accent mt-1"></i>
                                <div>
                                    <p class="font-medium">{{ 'Giờ tư vấn' if lang == 'vi' else 'Consulting Hours' }}</p>
                                    <p class="text-white/80">08:00 - 17:00</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="bg-light rounded-xl p-6">
                        <h3 class="text-xl font-display font-bold mb-4">{{ 'Ưu Đãi Đặc Biệt' if lang == 'vi' else 'Special Offers' }}</h3>
                        <ul class="space-y-3">
                            <li class="flex items-center space-x-2">
                                <i class="fas fa-check-circle text-primary"></i>
                                <span>{{ 'Giảm 10% nhóm 5+ người' if lang == 'vi' else '10% off for groups of 5+' }}</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <i class="fas fa-check-circle text-primary"></i>
                                <span>{{ 'Giảm 20% nhóm 10+ người' if lang == 'vi' else '20% off for groups of 10+' }}</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <i class="fas fa-check-circle text-primary"></i>
                                <span>{{ 'Miễn phí ảnh kỷ niệm' if lang == 'vi' else 'Free souvenir photos' }}</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <i class="fas fa-check-circle text-primary"></i>
                                <span>{{ 'Chứng nhận hoàn thành' if lang == 'vi' else 'Completion certificate' }}</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="bg-accent/20 rounded-xl p-6">
                        <h3 class="text-xl font-display font-bold mb-4">{{ 'Chương Trình STEAM' if lang == 'vi' else 'STEAM Programs' }}</h3>
                        <div class="space-y-3">
                            <a href="/steam/intro?lang={{ lang }}" class="flex items-center space-x-2 text-primary hover:text-accent transition">
                                <i class="fas fa-arrow-right"></i>
                                <span>{{ 'Giới thiệu chương trình' if lang == 'vi' else 'Program Introduction' }}</span>
                            </a>
                            <a href="/steam/workshop?lang={{ lang }}" class="flex items-center space-x-2 text-primary hover:text-accent transition">
                                <i class="fas fa-arrow-right"></i>
                                <span>{{ 'Các workshop kỹ năng' if lang == 'vi' else 'Skills Workshops' }}</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
    document.getElementById('steam-register-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const data = Object.fromEntries(formData.entries());
        
        fetch('/api/contact', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        })
        .then(response => response.json())
        .then(result => {
            if (result.success) {
                document.getElementById('steam-register-form').classList.add('hidden');
                document.getElementById('success-message').classList.remove('hidden');
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });
</script>
{% endblock %}
